<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChurnGuard AI - Customer Retention Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --sidebar-width: 35%;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #030712;
            color: #e5e7eb;
            position: relative;
            overflow: hidden; /* Prevent body scrolling */
            display: flex;
            height: 100vh;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                radial-gradient(ellipse 50% 80% at 10% 110%, rgba(37, 99, 235, 0.3), transparent),
                radial-gradient(ellipse 50% 80% at 90% -10%, rgba(139, 92, 246, 0.3), transparent);
            background-size: 200% 200%;
            animation: auroraBackground 20s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes auroraBackground {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Sidebar & Layout Styles */
        #sidebar {
            flex: 0 0 var(--sidebar-width);
            min-width: 350px;
            max-width: 60%;
            height: 100vh;
            transition: min-width 0.3s ease, flex-basis 0.3s ease, padding 0.3s ease, transform 0.3s ease;
            padding: 1.5rem; /* p-6 */
        }
        #sidebar.collapsed {
            min-width: 0;
            flex-basis: 0 !important;
            padding: 0;
            transform: translateX(-100%);
            overflow: hidden;
        }
        
        #resizer {
            flex: 0 0 8px;
            cursor: col-resize;
            background-color: rgba(55, 65, 81, 0.5); /* gray-700 */
            transition: background-color 0.2s ease, flex-basis 0.3s ease, min-width 0.3s ease;
            position: relative;
        }
        #resizer.hidden {
           flex-basis: 0;
           min-width: 0;
           width: 0;
        }

        #main-content {
            flex-grow: 1;
            height: 100vh;
            overflow-y: auto;
            padding: 1.5rem; /* p-6 */
        }

        #toggleSidebar {
            position: fixed;
            top: 1.5rem;
            left: 1.5rem;
            z-index: 50;
        }

        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background-color: #1f2937; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #4a5568; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: #4f46e5; }
        
        .glass-card {
            background: rgba(17, 24, 39, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(55, 65, 81, 0.3);
            border-radius: 1rem;
        }

        .brand-text {
            background: -webkit-linear-gradient(45deg, #38bdf8, #818cf8, #c084fc);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .btn-predict {
            background: linear-gradient(45deg, #2563eb, #4f46e5);
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(79, 70, 229, 0.5);
        }

        .btn-predict:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 25px rgba(79, 70, 229, 0.8);
        }

        .loader {
            width: 48px; height: 48px; border: 3px solid #e5e7eb; border-radius: 50%;
            display: inline-block; position: relative; animation: rotation 1s linear infinite;
        }
        .loader::after {
            content: ''; box-sizing: border-box; position: absolute; left: 50%; top: 50%;
            transform: translate(-50%, -50%); width: 40px; height: 40px; border-radius: 50%;
            border: 3px solid; border-color: #4f46e5 transparent;
        }
        @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        .custom-input { background-color: #1f2937; border: 1px solid #374151; }
        .result-card { animation: fadeInScale 0.5s ease-out forwards; }
        @keyframes fadeInScale { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .result-card-churn { box-shadow: 0 0 30px rgba(248, 113, 113, 0.4); }
        .result-card-safe { box-shadow: 0 0 30px rgba(74, 222, 128, 0.4); }
        .prediction-icon { animation: pulseGlow 2s infinite ease-in-out; }
        @keyframes pulseGlow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        
        /* This rule is now more specific to ensure it overrides other text color styles */
        .result-card .markdown-content strong { color: #fafa15; }

        .markdown-content ul { list-style-position: inside; }
        .markdown-content p { margin: 0; }

    </style>
</head>

<body>

    <!-- Toggle Button -->
    <button id="toggleSidebar" class="bg-gray-800 text-white hover:bg-sky-500 rounded-full p-2 transition shadow-lg">
        <svg id="icon-collapse" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
        <svg id="icon-expand" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
    </button>
    
    <aside id="sidebar">
        <div class="relative h-full pt-16"> <!-- Added padding top to avoid overlap with button -->
            <div class="glass-card p-6 md:p-8 rounded-lg h-full overflow-y-auto custom-scrollbar w-full">
                <!-- API Key Input -->
                <div class="mb-6">
                    <label for="api-key" class="font-medium text-gray-300 text-sm mb-2 block">Your Groq API Key</label>
                    <input type="password" id="api-key" class="custom-input w-full p-2 rounded-lg text-gray-200 border-gray-700 focus:border-sky-400 focus:outline-none" placeholder="Enter key for AI recommendations">
                </div>

                <!-- Tabs -->
                <div class="flex border-b border-gray-700 mb-6">
                    <button id="single-tab" onclick="switchTab('single')" class="py-2 px-4 text-sky-400 border-b-2 border-sky-400 font-semibold">Single Customer</button>
                    <button id="batch-tab" onclick="switchTab('batch')" class="py-2 px-4 text-gray-400 font-semibold">Batch File</button>
                </div>

                <!-- Single Customer View -->
                <div id="single-view">
                    <p class="text-gray-400 mb-6 text-sm text-center">Enter customer details for an instant churn prediction.</p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-5">
                        <div class="space-y-2"><label for="Tenure" class="font-medium text-gray-300 text-sm">Tenure (Months)</label><input type="number" id="Tenure" value="12" class="w-full p-2 rounded-lg custom-input"></div>
                        <div class="space-y-2"><label for="Complain" class="font-medium text-gray-300 text-sm">Has Complained?</label><select id="Complain" class="w-full p-2 rounded-lg custom-input"><option value="0">No</option><option value="1">Yes</option></select></div>
                        <div class="space-y-2"><label for="SatisfactionScore" class="font-medium text-gray-300 text-sm">Satisfaction (1-5)</label><input type="number" id="SatisfactionScore" value="3" min="1" max="5" class="w-full p-2 rounded-lg custom-input"></div>
                        <div class="space-y-2"><label for="DaySinceLastOrder" class="font-medium text-gray-300 text-sm">Days Since Last Order</label><input type="number" id="DaySinceLastOrder" value="10" class="w-full p-2 rounded-lg custom-input"></div>
                        <div class="space-y-2"><label for="OrderCount" class="font-medium text-gray-300 text-sm">Order Count</label><input type="number" id="OrderCount" value="5" class="w-full p-2 rounded-lg custom-input"></div>
                        <div class="space-y-2"><label for="CashbackAmount" class="font-medium text-gray-300 text-sm">Cashback</label><input type="number" id="CashbackAmount" value="150" step="0.01" class="w-full p-2 rounded-lg custom-input"></div>
                        <div class="space-y-2"><label for="WarehouseToHome" class="font-medium text-gray-300 text-sm">WH to Home</label><input type="number" id="WarehouseToHome" value="15" step="0.1" class="w-full p-2 rounded-lg custom-input"></div>
                        <div class="space-y-2"><label for="HourSpendOnApp" class="font-medium text-gray-300 text-sm">Hours on App</label><input type="number" id="HourSpendOnApp" value="3.0" step="0.1" class="w-full p-2 rounded-lg custom-input"></div>
                        <div class="space-y-2"><label for="CouponUsed" class="font-medium text-gray-300 text-sm">Coupons Used</label><input type="number" id="CouponUsed" value="1" class="w-full p-2 rounded-lg custom-input"></div>
                        <div class="space-y-2 sm:col-span-2"><label for="PreferedOrderCat" class="font-medium text-gray-300 text-sm">Preferred Category</label><select id="PreferedOrderCat" class="w-full p-2 rounded-lg custom-input"><option value="0">Laptop & Accessory</option><option value="0">Mobile Phone</option><option value="1">Fashion</option><option value="2">Grocery</option><option value="3">Others</option></select></div>
                    </div>
                    <div class="text-center mt-6">
                        <button id="toggle-advanced-btn" class="text-sky-400 hover:text-sky-300 transition text-sm font-semibold">Show All Fields</button>
                    </div>
                    <div id="advanced-options" class="hidden mt-6 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-5">
                        <div class="space-y-2"><label for="PreferredLoginDevice" class="font-medium text-gray-300 text-sm">Login Device</label><select id="PreferredLoginDevice" class="w-full p-2 rounded-lg custom-input"><option value="0">Mobile Phone</option><option value="1">Computer</option></select></div>
                        <div class="space-y-2"><label for="CityTier" class="font-medium text-gray-300 text-sm">City Tier</label><input type="number" id="CityTier" min="1" max="3" value="1" class="w-full p-2 rounded-lg custom-input"></div>
                        <div class="space-y-2"><label for="PreferredPaymentMode" class="font-medium text-gray-300 text-sm">Payment Mode</label><select id="PreferredPaymentMode" class="w-full p-2 rounded-lg custom-input"><option value="0">Cash on Delivery</option><option value="1">Digital Payment</option></select></div>
                        <div class="space-y-2"><label for="Gender" class="font-medium text-gray-300 text-sm">Gender</label><select id="Gender" class="w-full p-2 rounded-lg custom-input"><option value="0">Female</option><option value="1">Male</option></select></div>
                        <div class="space-y-2"><label for="NumberOfDeviceRegistered" class="font-medium text-gray-300 text-sm">Devices</label><input type="number" id="NumberOfDeviceRegistered" min="1" max="6" value="3" class="w-full p-2 rounded-lg custom-input"></div>
                        <div class="space-y-2"><label for="MaritalStatus" class="font-medium text-gray-300 text-sm">Marital Status</label><select id="MaritalStatus" class="w-full p-2 rounded-lg custom-input"><option value="0">Divorced</option><option value="1">Single</option><option value="2">Married</option></select></div>
                        <div class="space-y-2"><label for="NumberOfAddress" class="font-medium text-gray-300 text-sm">Addresses</label><input type="number" id="NumberOfAddress" min="1" max="10" value="3" class="w-full p-2 rounded-lg custom-input"></div>
                        <div class="space-y-2 sm:col-span-2"><label for="OrderAmountHikeFromlastYear" class="font-medium text-gray-300 text-sm">Order Amount Hike (%)</label><input type="number" id="OrderAmountHikeFromlastYear" value="15" step="0.1" class="w-full p-2 rounded-lg custom-input"></div>
                    </div>
                    <div class="mt-8 text-center">
                        <button id="predict-btn" class="w-full btn-predict text-white font-bold py-3 px-4 rounded-lg text-lg">Analyze Churn Risk</button>
                    </div>
                </div>

                <!-- Batch File View -->
                <div id="batch-view" class="hidden">
                    <p class="text-gray-400 mb-6 text-center text-sm">Upload a file to identify all potential churners in a batch.</p>
                    <div class="border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-sky-400 transition">
                        <input type="file" id="file-upload" class="hidden" accept=".csv, .xlsx">
                        <label for="file-upload" class="cursor-pointer">
                            <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true"><path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                            <p id="file-label" class="mt-2 text-sm text-gray-400"><span class="font-semibold text-sky-400">Click to upload</span> or drag and drop</p>
                            <p class="text-xs text-gray-500">CSV or XLSX up to 10MB</p>
                        </label>
                    </div>
                    <div class="mt-8 text-center">
                       <button id="predict-file-btn" class="w-full btn-predict text-white font-bold py-3 px-4 rounded-lg text-lg" disabled>Process Batch File</button>
                   </div>
                </div>
            </div>
        </div>
    </aside>

    <div id="resizer"></div>

    <main id="main-content">
        <div class="w-full max-w-7xl mx-auto h-full flex flex-col">
            <header class="text-center mb-10 flex-shrink-0">
                <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight brand-text">ChurnGuard AI</h1>
                <p class="text-lg text-gray-400 mt-2">Predict and Prevent Customer Churn with AI-Powered Insights</p>
            </header>

            <div id="results-panel" class="flex-grow">
                <div id="results" class="h-full">
                    <div id="results-placeholder" class="glass-card h-full flex flex-col items-center justify-center text-center p-8">
                        <svg class="w-24 h-24 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                        <h2 class="mt-4 text-2xl font-bold text-gray-500">Analysis Results</h2>
                        <p class="text-gray-500">Your customer churn analysis will appear here.</p>
                    </div>
                    <div id="loader" class="glass-card h-full flex-col items-center justify-center text-center p-8 hidden"><span class="loader"></span><p class="text-lg text-sky-400 mt-4 font-semibold animate-pulse">Analyzing Customer Profile...</p></div>
                    <div id="result-content" class="h-full"></div>
                </div>
            </div>
        </div>
    </main>

    <script>
        const API_BASE_URL = 'http://127.0.0.1:8000';
        const singleTab = document.getElementById('single-tab');
        const batchTab = document.getElementById('batch-tab');
        const singleView = document.getElementById('single-view');
        const batchView = document.getElementById('batch-view');
        const resultsPlaceholder = document.getElementById('results-placeholder');
        const loader = document.getElementById('loader');
        const resultContent = document.getElementById('result-content');

        function switchTab(tab) {
            resultsPlaceholder.style.display = 'flex';
            resultContent.innerHTML = '';
            
            singleTab.classList.remove('text-sky-400', 'border-sky-400');
            batchTab.classList.remove('text-sky-400', 'border-sky-400');
            singleView.classList.add('hidden');
            batchView.classList.add('hidden');
            
            if (tab === 'single') {
                singleTab.classList.add('text-sky-400', 'border-sky-400');
                singleView.classList.remove('hidden');
            } else {
                batchTab.classList.add('text-sky-400', 'border-sky-400');
                batchView.classList.remove('hidden');
            }
        }
        
        const predictBtn = document.getElementById('predict-btn');
        predictBtn.addEventListener('click', async () => {
            const apiKey = document.getElementById('api-key').value;
            if (!apiKey) {
                displayError("Please enter your API key to get AI-powered recommendations.");
                return;
            }

            resultsPlaceholder.style.display = 'none';
            resultContent.innerHTML = '';
            loader.style.display = 'flex';
            
            const customerData = {
                api_key: apiKey, // Include the API key in the payload
                Tenure: parseFloat(document.getElementById('Tenure').value) || 0,
                PreferredLoginDevice: parseInt(document.getElementById('PreferredLoginDevice').value),
                CityTier: parseInt(document.getElementById('CityTier').value),
                WarehouseToHome: parseFloat(document.getElementById('WarehouseToHome').value) || 0,
                PreferredPaymentMode: parseInt(document.getElementById('PreferredPaymentMode').value),
                Gender: parseInt(document.getElementById('Gender').value),
                HourSpendOnApp: parseFloat(document.getElementById('HourSpendOnApp').value) || 0,
                NumberOfDeviceRegistered: parseInt(document.getElementById('NumberOfDeviceRegistered').value),
                PreferedOrderCat: parseInt(document.getElementById('PreferedOrderCat').value),
                SatisfactionScore: parseInt(document.getElementById('SatisfactionScore').value),
                MaritalStatus: parseInt(document.getElementById('MaritalStatus').value),
                NumberOfAddress: parseInt(document.getElementById('NumberOfAddress').value),
                Complain: parseInt(document.getElementById('Complain').value),
                OrderAmountHikeFromlastYear: parseFloat(document.getElementById('OrderAmountHikeFromlastYear').value) || 0,
                CouponUsed: parseFloat(document.getElementById('CouponUsed').value) || 0,
                OrderCount: parseFloat(document.getElementById('OrderCount').value) || 0,
                DaySinceLastOrder: parseFloat(document.getElementById('DaySinceLastOrder').value) || 0,
                CashbackAmount: parseFloat(document.getElementById('CashbackAmount').value) || 0
            };

            try {
                const response = await fetch(`${API_BASE_URL}/predict`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify(customerData),
                });
                if (!response.ok) { 
                    const errorData = await response.json();
                    throw new Error(errorData.detail || `HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                displayResults(data);
            } catch (error) {
                console.error("Error calling prediction API:", error);
                displayError(`Failed to connect to the AI model. ${error.message}`);
            }
        });

        function displayResults(data) {
            loader.style.display = 'none';
            
            const isChurn = !data.prediction.includes("not");
            const cardGlowClass = isChurn ? 'result-card-churn' : 'result-card-safe';
            const predictionColor = isChurn ? 'text-red-400' : 'text-green-400';
            const predictionIcon = isChurn 
                ? `<div class="prediction-icon"><svg class="w-10 h-10 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7a4 4 0 11-8 0 4 4 0 018 0zM9 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div>` 
                : `<div class="prediction-icon"><svg class="w-10 h-10 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div>`;

            let recommendationsHtml = '';
            if (isChurn && data.retention_recommendations) {
                 if (Array.isArray(data.retention_recommendations)) {
                    const recommendationsList = data.retention_recommendations.map(rec => `<li class="flex items-start"><svg class="w-5 h-5 mr-3 text-sky-400 flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><span class="markdown-content">${marked.parseInline(rec)}</span></li>`).join('');
                    recommendationsHtml = `<h3 class="text-xl font-bold brand-text mt-8 mb-4">AI Retention Strategies</h3><ul class="space-y-3 text-left text-gray-300">${recommendationsList}</ul>`;
                 } else {
                     recommendationsHtml = `<div class="mt-4 text-yellow-400 bg-yellow-900/50 p-3 rounded-lg markdown-content">${marked.parse(data.retention_recommendations)}</div>`;
                 }
            } else if (!isChurn) {
                recommendationsHtml = `<p class="mt-6 text-lg text-green-300 bg-green-900/50 p-4 rounded-lg">${data.retention_recommendations}</p>`;
            }

            resultContent.innerHTML = `<div class="result-card glass-card text-center p-6 custom-scrollbar overflow-y-auto h-full ${cardGlowClass}"><h2 class="text-2xl font-bold mb-4">Analysis Complete</h2><div class="flex flex-col items-center justify-center ${predictionColor}">${predictionIcon}<span class="mt-3 text-3xl font-extrabold">${data.prediction}</span></div>${recommendationsHtml}</div>`;
        }
        
        function displayError(message) {
             loader.style.display = 'none';
             resultContent.innerHTML = `<div class="result-card glass-card text-center p-6 rounded-lg bg-red-900/50 result-card-churn"><h2 class="text-2xl font-bold mb-2 text-red-400">Error</h2><p class="text-red-300">${message}</p></div>`;
        }
        
        // --- File Upload Logic ---
        const fileUpload = document.getElementById('file-upload');
        const fileLabel = document.getElementById('file-label');
        const predictFileBtn = document.getElementById('predict-file-btn');
        let uploadedFile = null;

        fileUpload.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                uploadedFile = e.target.files[0];
                fileLabel.textContent = uploadedFile.name;
                predictFileBtn.disabled = false;
            }
        });

        predictFileBtn.addEventListener('click', async () => { /* ... Batch prediction logic ... */ });
        
        function displayBatchResults(data) { /* ... Batch results display logic ... */ }

        // --- Advanced Options Toggle ---
        const toggleBtn = document.getElementById('toggle-advanced-btn');
        const advancedOptions = document.getElementById('advanced-options');
        toggleBtn.addEventListener('click', () => {
            const isHidden = advancedOptions.classList.toggle('hidden');
            toggleBtn.textContent = isHidden ? 'Show All Fields' : 'Show Fewer Fields';
        });

        // --- Sidebar Resize and Toggle Logic ---
        const sidebar = document.getElementById('sidebar');
        const resizer = document.getElementById('resizer');
        const toggleSidebarBtn = document.getElementById('toggleSidebar');
        const iconCollapse = document.getElementById('icon-collapse');
        const iconExpand = document.getElementById('icon-expand');

        toggleSidebarBtn.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
            resizer.classList.toggle('hidden');
            iconCollapse.classList.toggle('hidden');
            iconExpand.classList.toggle('hidden');
        });
        
        const resize = (e) => {
            // Adjust the flex-basis of the sidebar
            document.documentElement.style.setProperty('--sidebar-width', `${e.clientX}px`);
        };

        resizer.addEventListener('mousedown', (e) => {
            e.preventDefault();
            document.addEventListener('mousemove', resize);
            document.addEventListener('mouseup', () => {
                document.removeEventListener('mousemove', resize);
            });
        });
        
        // Initialize sidebar as open by default
        document.addEventListener('DOMContentLoaded', () => {
            iconExpand.classList.add('hidden');
            iconCollapse.classList.remove('hidden');
        });

    </script>
</body>
</html>

